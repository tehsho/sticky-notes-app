{"ast":null,"code":"var _env, _env2;\n// src/api.ts\n\n// Change this if your API runs on a different port\nconst API_BASE = ((_env = import.meta.env) === null || _env === void 0 ? void 0 : _env.VITE_API_BASE_URL) || ((_env2 = process.env) === null || _env2 === void 0 ? void 0 : _env2.REACT_APP_API_BASE_URL) || \"http://localhost:5123\";\nasync function jsonOrThrow(res, label) {\n  if (!res.ok) {\n    const txt = await res.text().catch(() => \"\");\n    throw new Error(`${label} failed (${res.status}) ${txt}`);\n  }\n  return await res.json();\n}\nexport const NotesApi = {\n  async getNotes() {\n    const res = await fetch(`${API_BASE}/api/notes`, {\n      headers: {\n        Accept: \"application/json\"\n      }\n    });\n    return jsonOrThrow(res, \"GET /api/notes\");\n  },\n  // simplest + robust: replace all notes\n  async putNotes(notes) {\n    const res = await fetch(`${API_BASE}/api/notes`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(notes)\n    });\n    return jsonOrThrow(res, \"PUT /api/notes\");\n  }\n};","map":{"version":3,"names":["API_BASE","_env","import","meta","env","VITE_API_BASE_URL","_env2","process","REACT_APP_API_BASE_URL","jsonOrThrow","res","label","ok","txt","text","catch","Error","status","json","NotesApi","getNotes","fetch","headers","Accept","putNotes","notes","method","body","JSON","stringify"],"sources":["C:/Development/Tempo/sticky-notes/src/api/notesApi.ts"],"sourcesContent":["// src/api.ts\r\nimport { Note } from \"../types\";\r\n\r\n// Change this if your API runs on a different port\r\nconst API_BASE =\r\n  (import.meta as any).env?.VITE_API_BASE_URL ||\r\n  (process as any).env?.REACT_APP_API_BASE_URL ||\r\n  \"http://localhost:5123\";\r\n\r\nasync function jsonOrThrow<T>(res: Response, label: string): Promise<T> {\r\n  if (!res.ok) {\r\n    const txt = await res.text().catch(() => \"\");\r\n    throw new Error(`${label} failed (${res.status}) ${txt}`);\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport const NotesApi = {\r\n  async getNotes(): Promise<Note[]> {\r\n    const res = await fetch(`${API_BASE}/api/notes`, {\r\n      headers: { Accept: \"application/json\" }\r\n    });\r\n    return jsonOrThrow<Note[]>(res, \"GET /api/notes\");\r\n  },\r\n\r\n  // simplest + robust: replace all notes\r\n  async putNotes(notes: Note[]): Promise<Note[]> {\r\n    const res = await fetch(`${API_BASE}/api/notes`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\"\r\n      },\r\n      body: JSON.stringify(notes)\r\n    });\r\n    return jsonOrThrow<Note[]>(res, \"PUT /api/notes\");\r\n  }\r\n};\r\n"],"mappings":";AAAA;;AAGA;AACA,MAAMA,QAAQ,GACZ,EAAAC,IAAA,GAACC,MAAM,CAACC,IAAI,CAASC,GAAG,cAAAH,IAAA,uBAAxBA,IAAA,CAA0BI,iBAAiB,OAAAC,KAAA,GAC1CC,OAAO,CAASH,GAAG,cAAAE,KAAA,uBAApBA,KAAA,CAAsBE,sBAAsB,KAC5C,uBAAuB;AAEzB,eAAeC,WAAWA,CAAIC,GAAa,EAAEC,KAAa,EAAc;EACtE,IAAI,CAACD,GAAG,CAACE,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC5C,MAAM,IAAIC,KAAK,CAAC,GAAGL,KAAK,YAAYD,GAAG,CAACO,MAAM,KAAKJ,GAAG,EAAE,CAAC;EAC3D;EACA,OAAQ,MAAMH,GAAG,CAACQ,IAAI,CAAC,CAAC;AAC1B;AAEA,OAAO,MAAMC,QAAQ,GAAG;EACtB,MAAMC,QAAQA,CAAA,EAAoB;IAChC,MAAMV,GAAG,GAAG,MAAMW,KAAK,CAAC,GAAGrB,QAAQ,YAAY,EAAE;MAC/CsB,OAAO,EAAE;QAAEC,MAAM,EAAE;MAAmB;IACxC,CAAC,CAAC;IACF,OAAOd,WAAW,CAASC,GAAG,EAAE,gBAAgB,CAAC;EACnD,CAAC;EAED;EACA,MAAMc,QAAQA,CAACC,KAAa,EAAmB;IAC7C,MAAMf,GAAG,GAAG,MAAMW,KAAK,CAAC,GAAGrB,QAAQ,YAAY,EAAE;MAC/C0B,MAAM,EAAE,KAAK;MACbJ,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,MAAM,EAAE;MACV,CAAC;MACDI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK;IAC5B,CAAC,CAAC;IACF,OAAOhB,WAAW,CAASC,GAAG,EAAE,gBAAgB,CAAC;EACnD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}