{"ast":null,"code":"var _jsxFileName = \"C:\\\\Development\\\\Tempo\\\\sticky-notes\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport \"./App.css\";\nimport { NotesApi } from \"./api/notesApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clamp = (v, min, max) => Math.max(min, Math.min(max, v));\nconst genId = () => Math.random().toString(36).slice(2, 10);\nfunction colorToHex(c) {\n  switch (c) {\n    case \"yellow\":\n      return \"#fff3a3\";\n    case \"pink\":\n      return \"#ffd1dc\";\n    case \"blue\":\n      return \"#cfe8ff\";\n    case \"green\":\n      return \"#d6ffd6\";\n  }\n}\nexport default function App() {\n  _s();\n  const canvasRef = useRef(null);\n  const trashRef = useRef(null);\n\n  // API is source of truth\n  const [notes, setNotes] = useState([]);\n  const [newW, setNewW] = useState(220);\n  const [newH, setNewH] = useState(180);\n  const [newColor, setNewColor] = useState(\"yellow\");\n  const maxZ = useMemo(() => notes.reduce((m, n) => Math.max(m, n.z), 0), [notes]);\n  const [trashActive, setTrashActive] = useState(false);\n  const notesRef = useRef([]);\n  useEffect(() => {\n    notesRef.current = notes;\n  }, [notes]);\n\n  // Load notes from API on mount\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      try {\n        const remote = await NotesApi.getNotes();\n        if (!cancelled) setNotes(Array.isArray(remote) ? remote : []);\n      } catch (err) {\n        console.error(\"API getNotes failed:\", err);\n        if (!cancelled) setNotes([]);\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  // Debounced per-note PATCH calls\n  const patchTimersRef = useRef({});\n  const schedulePatch = (id, patch) => {\n    const timers = patchTimersRef.current;\n    if (timers[id]) window.clearTimeout(timers[id]);\n    timers[id] = window.setTimeout(async () => {\n      try {\n        // send only changed fields\n        const saved = await NotesApi.updateNote(id, patch);\n\n        // reconcile with server response\n        setNotes(prev => prev.map(n => n.id === id ? {\n          ...n,\n          ...saved\n        } : n));\n      } catch (err) {\n        console.error(\"API updateNote failed:\", err);\n      } finally {\n        delete timers[id];\n      }\n    }, 250);\n  };\n  const createNote = async () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const offset = notes.length % 8 * 18;\n    const tempId = `tmp_${genId()}`;\n    const optimistic = {\n      id: tempId,\n      x: 24 + offset,\n      y: 24 + offset,\n      w: clamp(newW, 140, 420),\n      h: clamp(newH, 120, 420),\n      text: \"\",\n      color: newColor,\n      z: maxZ + 1\n    };\n    setNotes(prev => [...prev, optimistic]);\n    try {\n      const payload = {\n        x: optimistic.x,\n        y: optimistic.y,\n        w: optimistic.w,\n        h: optimistic.h,\n        text: optimistic.text,\n        color: optimistic.color,\n        z: optimistic.z\n      };\n      const created = await NotesApi.createNote(payload); // server returns Note with real id\n\n      setNotes(prev => prev.map(n => n.id === tempId ? created : n));\n    } catch (err) {\n      console.error(\"API createNote failed:\", err);\n      setNotes(prev => prev.filter(n => n.id !== tempId));\n    }\n  };\n  const bringToFront = id => {\n    setNotes(prev => {\n      const nextZ = prev.reduce((m, n) => Math.max(m, n.z), 0) + 1;\n      const updated = prev.map(n => n.id === id ? {\n        ...n,\n        z: nextZ\n      } : n);\n\n      // don't persist z if currently dragging this note\n      if (!dragState.current || dragState.current.id !== id) {\n        schedulePatch(id, {\n          z: nextZ\n        });\n      }\n      return updated;\n    });\n  };\n  const updateNote = (id, patch) => {\n    // update UI immediately\n    setNotes(prev => prev.map(n => n.id === id ? {\n      ...n,\n      ...patch\n    } : n));\n    // persist to API (debounced)\n    schedulePatch(id, patch);\n  };\n  const deleteNote = async id => {\n    // cancel pending PATCH timer for this note\n    const t = patchTimersRef.current[id];\n    if (t) {\n      window.clearTimeout(t);\n      delete patchTimersRef.current[id];\n    }\n    const snapshot = notesRef.current; // use ref, not stale closure\n    setNotes(prev => prev.filter(n => n.id !== id));\n\n    // if it's a temp note, don't call API\n    if (id.startsWith(\"tmp_\")) return;\n    try {\n      await NotesApi.deleteNote(id);\n    } catch (err) {\n      console.error(\"API deleteNote failed:\", err);\n      setNotes(snapshot); // rollback\n    }\n  };\n\n  // Dragging state\n  const dragState = useRef(null);\n  const onPointerMove = e => {\n    const st = dragState.current;\n    if (!st) return;\n    const dx = e.clientX - st.startX;\n    const dy = e.clientY - st.startY;\n    setNotes(prev => {\n      const canvas = canvasRef.current;\n      if (!canvas) return prev;\n      const rect = canvas.getBoundingClientRect();\n      return prev.map(n => {\n        if (n.id !== st.id) return n;\n        if (st.mode === \"move\") {\n          const newX = clamp(st.origX + dx, 0, rect.width - n.w);\n          const newY = clamp(st.origY + dy, 0, rect.height - n.h);\n          return {\n            ...n,\n            x: newX,\n            y: newY\n          };\n        } else {\n          const minW = 140;\n          const minH = 120;\n          const newW = clamp(st.origW + dx, minW, rect.width - n.x);\n          const newH = clamp(st.origH + dy, minH, rect.height - n.y);\n          return {\n            ...n,\n            w: newW,\n            h: newH\n          };\n        }\n      });\n    });\n    setTrashActive(st.mode === \"move\" && isOverTrash(e.clientX, e.clientY));\n  };\n  const isOverTrash = (x, y) => {\n    const trash = trashRef.current;\n    if (!trash) return false;\n    const r = trash.getBoundingClientRect();\n    return x >= r.left && x <= r.right && y >= r.top && y <= r.bottom;\n  };\n  const onPointerUp = e => {\n    const st = dragState.current;\n    if (!st) return;\n    const overTrashNow = st.mode === \"move\" && isOverTrash(e.clientX, e.clientY);\n    const note = notesRef.current.find(n => n.id === st.id);\n    if (overTrashNow) {\n      deleteNote(st.id);\n    } else if (note) {\n      if (st.mode === \"move\") schedulePatch(note.id, {\n        x: note.x,\n        y: note.y\n      });\n      if (st.mode === \"resize\") schedulePatch(note.id, {\n        w: note.w,\n        h: note.h\n      });\n    }\n    setTrashActive(false);\n    dragState.current = null;\n    window.removeEventListener(\"pointermove\", onPointerMove);\n    window.removeEventListener(\"pointerup\", onPointerUp);\n  };\n  const startMove = (id, e) => {\n    e.preventDefault();\n    const note = notesRef.current.find(n => n.id === id);\n    if (!note) return;\n    bringToFront(id);\n    dragState.current = {\n      id,\n      mode: \"move\",\n      startX: e.clientX,\n      startY: e.clientY,\n      origX: note.x,\n      origY: note.y,\n      origW: note.w,\n      origH: note.h\n    };\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n  };\n  const startResize = (id, e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const note = notesRef.current.find(n => n.id === id);\n    if (!note) return;\n    bringToFront(id);\n    dragState.current = {\n      id,\n      mode: \"resize\",\n      startX: e.clientX,\n      startY: e.clientY,\n      origX: note.x,\n      origY: note.y,\n      origW: note.w,\n      origH: note.h\n    };\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Sticky Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"W\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newW,\n            min: 140,\n            max: 420,\n            onChange: e => setNewW(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"H\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newH,\n            min: 120,\n            max: 420,\n            onChange: e => setNewH(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Color\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newColor,\n            onChange: e => setNewColor(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"yellow\",\n              children: \"Yellow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pink\",\n              children: \"Pink\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"blue\",\n              children: \"Blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"green\",\n              children: \"Green\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary\",\n          onClick: createNote,\n          children: \"+ New note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hint\",\n        children: \"Drag header to move \\u2022 Drag corner to resize \\u2022 Drop on trash to delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"canvas\",\n      ref: canvasRef,\n      children: [notes.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"note\",\n        style: {\n          left: n.x,\n          top: n.y,\n          width: n.w,\n          height: n.h,\n          background: colorToHex(n.color),\n          zIndex: n.z\n        },\n        onPointerDown: () => bringToFront(n.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"noteHeader\",\n          onPointerDown: e => startMove(n.id, e),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"noteBadge\",\n            children: n.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"noteBody\",\n          value: n.text,\n          placeholder: \"Type your note\\u2026\",\n          onChange: e => updateNote(n.id, {\n            text: e.target.value\n          }),\n          onFocus: () => bringToFront(n.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resizeHandle\",\n          onPointerDown: e => startResize(n.id, e),\n          title: \"Resize\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)]\n      }, n.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `trash ${trashActive ? \"active\" : \"\"}`,\n        ref: trashRef,\n        title: \"Drop here to delete\",\n        children: \"\\uD83D\\uDDD1 Trash\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"wDpAGCd3/0hBzvCizH7Tx1Xk/dM=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","NotesApi","jsxDEV","_jsxDEV","clamp","v","min","max","Math","genId","random","toString","slice","colorToHex","c","App","_s","canvasRef","trashRef","notes","setNotes","newW","setNewW","newH","setNewH","newColor","setNewColor","maxZ","reduce","m","n","z","trashActive","setTrashActive","notesRef","current","cancelled","remote","getNotes","Array","isArray","err","console","error","patchTimersRef","schedulePatch","id","patch","timers","window","clearTimeout","setTimeout","saved","updateNote","prev","map","createNote","canvas","offset","length","tempId","optimistic","x","y","w","h","text","color","payload","created","filter","bringToFront","nextZ","updated","dragState","deleteNote","t","snapshot","startsWith","onPointerMove","e","st","dx","clientX","startX","dy","clientY","startY","rect","getBoundingClientRect","mode","newX","origX","width","newY","origY","height","minW","minH","origW","origH","isOverTrash","trash","r","left","right","top","bottom","onPointerUp","overTrashNow","note","find","removeEventListener","startMove","preventDefault","addEventListener","startResize","stopPropagation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","Number","target","onClick","ref","style","background","zIndex","onPointerDown","placeholder","onFocus","title","_c","$RefreshReg$"],"sources":["C:/Development/Tempo/sticky-notes/src/App.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport \"./App.css\";\nimport { Note, NoteColor, NoteCreate } from \"./types\";\nimport { NotesApi } from \"./api/notesApi\";\n\nconst clamp = (v: number, min: number, max: number) =>\n  Math.max(min, Math.min(max, v));\nconst genId = () => Math.random().toString(36).slice(2, 10);\n\nfunction colorToHex(c: NoteColor) {\n  switch (c) {\n    case \"yellow\":\n      return \"#fff3a3\";\n    case \"pink\":\n      return \"#ffd1dc\";\n    case \"blue\":\n      return \"#cfe8ff\";\n    case \"green\":\n      return \"#d6ffd6\";\n  }\n}\n\nexport default function App() {\n  const canvasRef = useRef<HTMLDivElement | null>(null);\n  const trashRef = useRef<HTMLDivElement | null>(null);\n\n  // API is source of truth\n  const [notes, setNotes] = useState<Note[]>([]);\n  const [newW, setNewW] = useState(220);\n  const [newH, setNewH] = useState(180);\n  const [newColor, setNewColor] = useState<NoteColor>(\"yellow\");\n\n  const maxZ = useMemo(\n    () => notes.reduce((m, n) => Math.max(m, n.z), 0),\n    [notes],\n  );\n  const [trashActive, setTrashActive] = useState(false);\n  const notesRef = useRef<Note[]>([]);\n  useEffect(() => {\n    notesRef.current = notes;\n  }, [notes]);\n\n  // Load notes from API on mount\n  useEffect(() => {\n    let cancelled = false;\n\n    (async () => {\n      try {\n        const remote = await NotesApi.getNotes();\n        if (!cancelled) setNotes(Array.isArray(remote) ? remote : []);\n      } catch (err) {\n        console.error(\"API getNotes failed:\", err);\n        if (!cancelled) setNotes([]);\n      }\n    })();\n\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  // Debounced per-note PATCH calls\n  const patchTimersRef = useRef<Record<string, number>>({});\n\n  const schedulePatch = (id: string, patch: Partial<Note>) => {\n    const timers = patchTimersRef.current;\n\n    if (timers[id]) window.clearTimeout(timers[id]);\n\n    timers[id] = window.setTimeout(async () => {\n      try {\n        // send only changed fields\n        const saved = await NotesApi.updateNote(id, patch);\n\n        // reconcile with server response\n        setNotes((prev) =>\n          prev.map((n) => (n.id === id ? { ...n, ...saved } : n)),\n        );\n      } catch (err) {\n        console.error(\"API updateNote failed:\", err);\n      } finally {\n        delete timers[id];\n      }\n    }, 250);\n  };\n\n  const createNote = async () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const offset = (notes.length % 8) * 18;\n\n    const tempId = `tmp_${genId()}`;\n\n    const optimistic: Note = {\n      id: tempId,\n      x: 24 + offset,\n      y: 24 + offset,\n      w: clamp(newW, 140, 420),\n      h: clamp(newH, 120, 420),\n      text: \"\",\n      color: newColor,\n      z: maxZ + 1,\n    };\n\n    setNotes((prev) => [...prev, optimistic]);\n\n    try {\n      const payload: NoteCreate = {\n        x: optimistic.x,\n        y: optimistic.y,\n        w: optimistic.w,\n        h: optimistic.h,\n        text: optimistic.text,\n        color: optimistic.color,\n        z: optimistic.z,\n      };\n      const created = await NotesApi.createNote(payload); // server returns Note with real id\n\n      setNotes((prev) => prev.map((n) => (n.id === tempId ? created : n)));\n    } catch (err) {\n      console.error(\"API createNote failed:\", err);\n      setNotes((prev) => prev.filter((n) => n.id !== tempId));\n    }\n  };\n\n  const bringToFront = (id: string) => {\n    setNotes((prev) => {\n      const nextZ = prev.reduce((m, n) => Math.max(m, n.z), 0) + 1;\n      const updated = prev.map((n) => (n.id === id ? { ...n, z: nextZ } : n));\n\n      // don't persist z if currently dragging this note\n      if (!dragState.current || dragState.current.id !== id) {\n        schedulePatch(id, { z: nextZ });\n      }\n\n      return updated;\n    });\n  };\n\n  const updateNote = (id: string, patch: Partial<Note>) => {\n    // update UI immediately\n    setNotes((prev) => prev.map((n) => (n.id === id ? { ...n, ...patch } : n)));\n    // persist to API (debounced)\n    schedulePatch(id, patch);\n  };\n\n  const deleteNote = async (id: string) => {\n    // cancel pending PATCH timer for this note\n    const t = patchTimersRef.current[id];\n    if (t) {\n      window.clearTimeout(t);\n      delete patchTimersRef.current[id];\n    }\n\n    const snapshot = notesRef.current; // use ref, not stale closure\n    setNotes((prev) => prev.filter((n) => n.id !== id));\n\n    // if it's a temp note, don't call API\n    if (id.startsWith(\"tmp_\")) return;\n\n    try {\n      await NotesApi.deleteNote(id);\n    } catch (err) {\n      console.error(\"API deleteNote failed:\", err);\n      setNotes(snapshot); // rollback\n    }\n  };\n\n  // Dragging state\n  const dragState = useRef<null | {\n    id: string;\n    mode: \"move\" | \"resize\";\n    startX: number;\n    startY: number;\n    origX: number;\n    origY: number;\n    origW: number;\n    origH: number;\n  }>(null);\n\n  const onPointerMove = (e: PointerEvent) => {\n    const st = dragState.current;\n    if (!st) return;\n\n    const dx = e.clientX - st.startX;\n    const dy = e.clientY - st.startY;\n\n    setNotes((prev) => {\n      const canvas = canvasRef.current;\n      if (!canvas) return prev;\n\n      const rect = canvas.getBoundingClientRect();\n\n      return prev.map((n) => {\n        if (n.id !== st.id) return n;\n\n        if (st.mode === \"move\") {\n          const newX = clamp(st.origX + dx, 0, rect.width - n.w);\n          const newY = clamp(st.origY + dy, 0, rect.height - n.h);\n          return { ...n, x: newX, y: newY };\n        } else {\n          const minW = 140;\n          const minH = 120;\n          const newW = clamp(st.origW + dx, minW, rect.width - n.x);\n          const newH = clamp(st.origH + dy, minH, rect.height - n.y);\n          return { ...n, w: newW, h: newH };\n        }\n      });\n    });\n    setTrashActive(st.mode === \"move\" && isOverTrash(e.clientX, e.clientY));\n  };\n\n  const isOverTrash = (x: number, y: number) => {\n    const trash = trashRef.current;\n    if (!trash) return false;\n    const r = trash.getBoundingClientRect();\n    return x >= r.left && x <= r.right && y >= r.top && y <= r.bottom;\n  };\n\n  const onPointerUp = (e: PointerEvent) => {\n    const st = dragState.current;\n    if (!st) return;\n\n    const overTrashNow =\n      st.mode === \"move\" && isOverTrash(e.clientX, e.clientY);\n    const note = notesRef.current.find((n) => n.id === st.id);\n\n    if (overTrashNow) {\n      deleteNote(st.id);\n    } else if (note) {\n      if (st.mode === \"move\") schedulePatch(note.id, { x: note.x, y: note.y });\n      if (st.mode === \"resize\")\n        schedulePatch(note.id, { w: note.w, h: note.h });\n    }\n\n    setTrashActive(false);\n    dragState.current = null;\n    window.removeEventListener(\"pointermove\", onPointerMove);\n    window.removeEventListener(\"pointerup\", onPointerUp);\n  };\n\n  const startMove = (id: string, e: React.PointerEvent) => {\n    e.preventDefault();\n\n    const note = notesRef.current.find((n) => n.id === id);\n    if (!note) return;\n\n    bringToFront(id);\n\n    dragState.current = {\n      id,\n      mode: \"move\",\n      startX: e.clientX,\n      startY: e.clientY,\n      origX: note.x,\n      origY: note.y,\n      origW: note.w,\n      origH: note.h,\n    };\n\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n  };\n\n  const startResize = (id: string, e: React.PointerEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const note = notesRef.current.find((n) => n.id === id);\n    if (!note) return;\n\n    bringToFront(id);\n\n    dragState.current = {\n      id,\n      mode: \"resize\",\n      startX: e.clientX,\n      startY: e.clientY,\n      origX: note.x,\n      origY: note.y,\n      origW: note.w,\n      origH: note.h,\n    };\n\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"toolbar\">\n        <div className=\"title\">Sticky Notes</div>\n\n        <div className=\"controls\">\n          <label>\n            W\n            <input\n              type=\"number\"\n              value={newW}\n              min={140}\n              max={420}\n              onChange={(e) => setNewW(Number(e.target.value))}\n            />\n          </label>\n\n          <label>\n            H\n            <input\n              type=\"number\"\n              value={newH}\n              min={120}\n              max={420}\n              onChange={(e) => setNewH(Number(e.target.value))}\n            />\n          </label>\n\n          <label>\n            Color\n            <select\n              value={newColor}\n              onChange={(e) => setNewColor(e.target.value as NoteColor)}\n            >\n              <option value=\"yellow\">Yellow</option>\n              <option value=\"pink\">Pink</option>\n              <option value=\"blue\">Blue</option>\n              <option value=\"green\">Green</option>\n            </select>\n          </label>\n\n          <button className=\"primary\" onClick={createNote}>\n            + New note\n          </button>\n        </div>\n\n        <div className=\"hint\">\n          Drag header to move â€¢ Drag corner to resize â€¢ Drop on trash to delete\n        </div>\n      </header>\n\n      <main className=\"canvas\" ref={canvasRef}>\n        {notes.map((n) => (\n          <div\n            key={n.id}\n            className=\"note\"\n            style={{\n              left: n.x,\n              top: n.y,\n              width: n.w,\n              height: n.h,\n              background: colorToHex(n.color),\n              zIndex: n.z,\n            }}\n            onPointerDown={() => bringToFront(n.id)}\n          >\n            <div\n              className=\"noteHeader\"\n              onPointerDown={(e) => startMove(n.id, e)}\n            >\n              <span className=\"noteBadge\">{n.color}</span>\n            </div>\n\n            <textarea\n              className=\"noteBody\"\n              value={n.text}\n              placeholder=\"Type your noteâ€¦\"\n              onChange={(e) => updateNote(n.id, { text: e.target.value })}\n              onFocus={() => bringToFront(n.id)}\n            />\n\n            <div\n              className=\"resizeHandle\"\n              onPointerDown={(e) => startResize(n.id, e)}\n              title=\"Resize\"\n            />\n          </div>\n        ))}\n\n        <div\n          className={`trash ${trashActive ? \"active\" : \"\"}`}\n          ref={trashRef}\n          title=\"Drop here to delete\"\n        >\n          ðŸ—‘ Trash\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}