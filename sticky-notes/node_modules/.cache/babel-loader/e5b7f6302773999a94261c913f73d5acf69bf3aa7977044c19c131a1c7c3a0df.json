{"ast":null,"code":"// notesApi.ts\n\nconst BASE = \"https://localhost:5001\"; // or http://localhost:5000\n\nasync function request(path, options) {\n  const res = await fetch(`${BASE}${path}`, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    ...options\n  });\n  if (!res.ok) {\n    const txt = await res.text().catch(() => \"\");\n    throw new Error(`${res.status} ${res.statusText} ${txt}`);\n  }\n  return await res.json();\n}\nexport const NotesApi = {\n  getNotes: () => request(\"/api/notes\"),\n  createNote: note => request(\"/api/notes\", {\n    method: \"POST\",\n    body: JSON.stringify(note)\n  }),\n  updateNote: (id, patch) => request(`/api/notes/${encodeURIComponent(id)}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(patch)\n  }),\n  deleteNote: id => request(`/api/notes/${encodeURIComponent(id)}`, {\n    method: \"DELETE\"\n  })\n};","map":{"version":3,"names":["BASE","request","path","options","res","fetch","headers","ok","txt","text","catch","Error","status","statusText","json","NotesApi","getNotes","createNote","note","method","body","JSON","stringify","updateNote","id","patch","encodeURIComponent","deleteNote"],"sources":["C:/Development/Tempo/sticky-notes/src/api/notesApi.ts"],"sourcesContent":["// notesApi.ts\r\nimport { Note, NoteCreate } from \"../types\";\r\n\r\nconst BASE = \"https://localhost:5001\"; // or http://localhost:5000\r\n\r\nasync function request<T>(path: string, options?: RequestInit): Promise<T> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    ...options\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const txt = await res.text().catch(() => \"\");\r\n    throw new Error(`${res.status} ${res.statusText} ${txt}`);\r\n  }\r\n\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport const NotesApi = {\r\n  getNotes: () => request<Note[]>(\"/api/notes\"),\r\n\r\ncreateNote: (note: NoteCreate) =>\r\n  request<Note>(\"/api/notes\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(note)\r\n  }),\r\n\r\n  updateNote: (id: string, patch: Partial<Note>) =>\r\n    request<Note>(`/api/notes/${encodeURIComponent(id)}`, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(patch)\r\n    }),\r\n\r\n  deleteNote: (id: string) =>\r\n    request<void>(`/api/notes/${encodeURIComponent(id)}`, { method: \"DELETE\" })\r\n};\r\n"],"mappings":"AAAA;;AAGA,MAAMA,IAAI,GAAG,wBAAwB,CAAC,CAAC;;AAEvC,eAAeC,OAAOA,CAAIC,IAAY,EAAEC,OAAqB,EAAc;EACzE,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,IAAI,GAAGE,IAAI,EAAE,EAAE;IACxCI,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/C,GAAGH;EACL,CAAC,CAAC;EAEF,IAAI,CAACC,GAAG,CAACG,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC5C,MAAM,IAAIC,KAAK,CAAC,GAAGP,GAAG,CAACQ,MAAM,IAAIR,GAAG,CAACS,UAAU,IAAIL,GAAG,EAAE,CAAC;EAC3D;EAEA,OAAQ,MAAMJ,GAAG,CAACU,IAAI,CAAC,CAAC;AAC1B;AAEA,OAAO,MAAMC,QAAQ,GAAG;EACtBC,QAAQ,EAAEA,CAAA,KAAMf,OAAO,CAAS,YAAY,CAAC;EAE/CgB,UAAU,EAAGC,IAAgB,IAC3BjB,OAAO,CAAO,YAAY,EAAE;IAC1BkB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;EAC3B,CAAC,CAAC;EAEFK,UAAU,EAAEA,CAACC,EAAU,EAAEC,KAAoB,KAC3CxB,OAAO,CAAO,cAAcyB,kBAAkB,CAACF,EAAE,CAAC,EAAE,EAAE;IACpDL,MAAM,EAAE,OAAO;IACfC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACG,KAAK;EAC5B,CAAC,CAAC;EAEJE,UAAU,EAAGH,EAAU,IACrBvB,OAAO,CAAO,cAAcyB,kBAAkB,CAACF,EAAE,CAAC,EAAE,EAAE;IAAEL,MAAM,EAAE;EAAS,CAAC;AAC9E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}