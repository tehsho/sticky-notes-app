{"ast":null,"code":"// src/api/notesApi.ts\n\nconst API_BASE = \"http://localhost:5123\"; // <-- change to your API URL/port\n\nasync function ensureOk(res, label) {\n  if (!res.ok) {\n    const txt = await res.text().catch(() => \"\");\n    throw new Error(`${label} failed (${res.status}) ${txt}`);\n  }\n}\nexport const NotesApi = {\n  async getNotes() {\n    const res = await fetch(`${API_BASE}/api/notes`, {\n      headers: {\n        Accept: \"application/json\"\n      }\n    });\n    await ensureOk(res, \"GET /api/notes\");\n    return await res.json();\n  },\n  async createNote(note) {\n    const res = await fetch(`${API_BASE}/api/notes`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(note)\n    });\n    await ensureOk(res, \"POST /api/notes\");\n    return await res.json();\n  },\n  async updateNote(id, patch) {\n    const res = await fetch(`${API_BASE}/api/notes/${encodeURIComponent(id)}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(patch)\n    });\n    await ensureOk(res, \"PATCH /api/notes/{id}\");\n    return await res.json();\n  },\n  async deleteNote(id) {\n    const res = await fetch(`${API_BASE}/api/notes/${encodeURIComponent(id)}`, {\n      method: \"DELETE\"\n    });\n    await ensureOk(res, \"DELETE /api/notes/{id}\");\n  }\n};","map":{"version":3,"names":["API_BASE","ensureOk","res","label","ok","txt","text","catch","Error","status","NotesApi","getNotes","fetch","headers","Accept","json","createNote","note","method","body","JSON","stringify","updateNote","id","patch","encodeURIComponent","deleteNote"],"sources":["C:/Development/Tempo/sticky-notes/src/api/notesApi.ts"],"sourcesContent":["// src/api/notesApi.ts\r\nimport { Note } from \"../types\";\r\n\r\nconst API_BASE = \"http://localhost:5123\"; // <-- change to your API URL/port\r\n\r\nasync function ensureOk(res: Response, label: string) {\r\n  if (!res.ok) {\r\n    const txt = await res.text().catch(() => \"\");\r\n    throw new Error(`${label} failed (${res.status}) ${txt}`);\r\n  }\r\n}\r\n\r\nexport const NotesApi = {\r\n  async getNotes(): Promise<Note[]> {\r\n    const res = await fetch(`${API_BASE}/api/notes`, {\r\n      headers: { Accept: \"application/json\" }\r\n    });\r\n    await ensureOk(res, \"GET /api/notes\");\r\n    return (await res.json()) as Note[];\r\n  },\r\n\r\n  async createNote(note: Note): Promise<Note> {\r\n    const res = await fetch(`${API_BASE}/api/notes`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\", Accept: \"application/json\" },\r\n      body: JSON.stringify(note)\r\n    });\r\n    await ensureOk(res, \"POST /api/notes\");\r\n    return (await res.json()) as Note;\r\n  },\r\n\r\n  async updateNote(id: string, patch: Partial<Note>): Promise<Note> {\r\n    const res = await fetch(`${API_BASE}/api/notes/${encodeURIComponent(id)}`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\", Accept: \"application/json\" },\r\n      body: JSON.stringify(patch)\r\n    });\r\n    await ensureOk(res, \"PATCH /api/notes/{id}\");\r\n    return (await res.json()) as Note;\r\n  },\r\n\r\n  async deleteNote(id: string): Promise<void> {\r\n    const res = await fetch(`${API_BASE}/api/notes/${encodeURIComponent(id)}`, {\r\n      method: \"DELETE\"\r\n    });\r\n    await ensureOk(res, \"DELETE /api/notes/{id}\");\r\n  }\r\n};\r\n"],"mappings":"AAAA;;AAGA,MAAMA,QAAQ,GAAG,uBAAuB,CAAC,CAAC;;AAE1C,eAAeC,QAAQA,CAACC,GAAa,EAAEC,KAAa,EAAE;EACpD,IAAI,CAACD,GAAG,CAACE,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC5C,MAAM,IAAIC,KAAK,CAAC,GAAGL,KAAK,YAAYD,GAAG,CAACO,MAAM,KAAKJ,GAAG,EAAE,CAAC;EAC3D;AACF;AAEA,OAAO,MAAMK,QAAQ,GAAG;EACtB,MAAMC,QAAQA,CAAA,EAAoB;IAChC,MAAMT,GAAG,GAAG,MAAMU,KAAK,CAAC,GAAGZ,QAAQ,YAAY,EAAE;MAC/Ca,OAAO,EAAE;QAAEC,MAAM,EAAE;MAAmB;IACxC,CAAC,CAAC;IACF,MAAMb,QAAQ,CAACC,GAAG,EAAE,gBAAgB,CAAC;IACrC,OAAQ,MAAMA,GAAG,CAACa,IAAI,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMC,UAAUA,CAACC,IAAU,EAAiB;IAC1C,MAAMf,GAAG,GAAG,MAAMU,KAAK,CAAC,GAAGZ,QAAQ,YAAY,EAAE;MAC/CkB,MAAM,EAAE,MAAM;MACdL,OAAO,EAAE;QAAE,cAAc,EAAE,kBAAkB;QAAEC,MAAM,EAAE;MAAmB,CAAC;MAC3EK,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;IAC3B,CAAC,CAAC;IACF,MAAMhB,QAAQ,CAACC,GAAG,EAAE,iBAAiB,CAAC;IACtC,OAAQ,MAAMA,GAAG,CAACa,IAAI,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMO,UAAUA,CAACC,EAAU,EAAEC,KAAoB,EAAiB;IAChE,MAAMtB,GAAG,GAAG,MAAMU,KAAK,CAAC,GAAGZ,QAAQ,cAAcyB,kBAAkB,CAACF,EAAE,CAAC,EAAE,EAAE;MACzEL,MAAM,EAAE,OAAO;MACfL,OAAO,EAAE;QAAE,cAAc,EAAE,kBAAkB;QAAEC,MAAM,EAAE;MAAmB,CAAC;MAC3EK,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACG,KAAK;IAC5B,CAAC,CAAC;IACF,MAAMvB,QAAQ,CAACC,GAAG,EAAE,uBAAuB,CAAC;IAC5C,OAAQ,MAAMA,GAAG,CAACa,IAAI,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMW,UAAUA,CAACH,EAAU,EAAiB;IAC1C,MAAMrB,GAAG,GAAG,MAAMU,KAAK,CAAC,GAAGZ,QAAQ,cAAcyB,kBAAkB,CAACF,EAAE,CAAC,EAAE,EAAE;MACzEL,MAAM,EAAE;IACV,CAAC,CAAC;IACF,MAAMjB,QAAQ,CAACC,GAAG,EAAE,wBAAwB,CAAC;EAC/C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}